<%- include('nav.ejs'); %>
<style>
    .attendance-table .table-wrapper {
        overflow: auto;
        height: auto;
        margin-left: 15px;
    }

    hr {
        background-color: rgb(255, 196, 0); 
        height: 4px;
    }

    .textAlign {
        text-align: center;
    }

    input {
        width: 25px;
        height: 25px;
    }
</style>

<div class="attendance-table" style="margin-bottom: 50px;">
    <div class="table-wrapper">
        <h2>Attendance Table</h2>
        <% periodCourse.forEach((course, index) => { %>
            <h1><%= course.month %></h1>
            <h5><%= course.year %></h5>
            <table class="table table-hover table-bordered">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Name</th>
                        <th>Last</th>
                        <% course.days.forEach((day, index)=> {0 %>
                            <th class="textAlign">
                                <%= course.weeks[index].slice(0, 3) %> - <%= day %>
                            </th>
                        <% }) %>
                    </tr>
                </thead>
                <tbody>
                    <% students.forEach((std, index) => { %>
                        <tr>
                            <td>
                                <%= index + 1 %>
                            </td>
                            <td>
                                <%= std.name %>
                            </td>
                            <td>
                                <%= std.sure %>
                            </td>
                            <% course.days.forEach((day, index) => { %>
                                <th class="textAlign">
                                    <input checked data-id="<%= std._id %>" data-day="<%= day %>" data-month="<%= course.month %>" type="checkbox">
                                </th>
                            <% }) %>
                        </tr>
                    <% }); %>
                </tbody>
            </table>
            <% if (periodCourse.length - 1 !== index) { %>
                <hr>
            <% } %>
        <% }) %>
    </div>
</div>